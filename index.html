<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>mvilplss</title><meta name="author" content="三行"><meta name="copyright" content="三行"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta property="og:type" content="website">
<meta property="og:title" content="mvilplss">
<meta property="og:url" content="http://mvilplss.github.io/index.html">
<meta property="og:site_name" content="mvilplss">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://mvilplss.github.io/null">
<meta property="article:author" content="三行">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://mvilplss.github.io/null"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://mvilplss.github.io/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}

// https://stackoverflow.com/questions/16839698/jquery-getscript-alternative-in-native-javascript
const getScript = url => new Promise((resolve, reject) => {
  const script = document.createElement('script')
  script.src = url
  script.async = true
  script.onerror = reject
  script.onload = script.onreadystatechange = function() {
    const loadState = this.readyState
    if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
    script.onload = script.onreadystatechange = null
    resolve()
  }
  document.head.appendChild(script)
})</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2021-01-03 19:21:21'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><meta name="generator" content="Hexo 5.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/null" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">22</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">7</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div></div></div><hr/></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">mvilplss</a></span><div id="menus"><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">mvilplss</h1><div id="site-subtitle"><span id="subtitle"></span></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/01/03/hello-world/" title="Hello World">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/01/03/hello-world/" title="Hello World">Hello World</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-01-03T09:59:04.558Z" title="发表于 2021-01-03 17:59:04">2021-01-03</time></span></div><div class="content">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Quick StartCreate a new post1$ hexo new &quot;My New Post&quot;
More info: Writing
Run server1$ hexo server
More info: Server
Generate static files1$ hexo generate
More info: Generating
Deploy to remote sites1$ hexo deploy
More info: Deployment
</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/12/10/Dubbo%E7%9A%84%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/" title="Dubbo的负载均衡">     <img class="post_bg" src="https://raw.githubusercontent.com/mvilplss/note/master/image/Dubbo的负载均衡_images/05058665.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Dubbo的负载均衡"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/12/10/Dubbo%E7%9A%84%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/" title="Dubbo的负载均衡">Dubbo的负载均衡</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-12-09T16:00:00.000Z" title="发表于 2020-12-10 00:00:00">2020-12-10</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E5%BC%80%E5%8F%91%E6%8A%80%E6%9C%AF/">开发技术</a></span></div><div class="content">简介负载均衡其实就是一个同样的工作任务下，对具有同样一批工作能力的人根据不同策略进行分工的一个哲学问题。不过在程序中进行任务分配就比较单纯了，在Dubbo中分为这几个负载均衡策略：随机加权负载均衡、轮询加权负载均衡、最小活跃数负载均衡、一致性哈希负载均衡、还有在dubbo新版本中新增的最短响应负载均衡。比起Dubbo服务的导出，引用和调用过程的源码，负载均衡的源码更值得进行研究分析，因为这些算法不仅在Dubbo中出现，在apache，nginx都有类似的算法。下面我们会逐个进行分析。
源码分析分析负载均衡源码前，我们先了解下负载均衡的加载方式。在通过集群调用某个 inovker 之前，需要先选择出一个 invoker ，这时需要通过SPI加载一个负载均衡器，其源码如下：
12345678910// AbstractClusterInvokerprotected LoadBalance initLoadBalance(List&lt;Invoker&lt;T&gt;&gt; invokers, Invocation invocation) &#123;    // 通过配置 loadba ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/12/09/Dubbo%E7%9A%84%E9%9B%86%E7%BE%A4%E5%AE%B9%E9%94%99/" title="Dubbo的集群容错">     <img class="post_bg" src="https://raw.githubusercontent.com/mvilplss/note/master/image/Dubbo的集群容错_images/f0369658.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Dubbo的集群容错"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/12/09/Dubbo%E7%9A%84%E9%9B%86%E7%BE%A4%E5%AE%B9%E9%94%99/" title="Dubbo的集群容错">Dubbo的集群容错</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-12-08T16:00:00.000Z" title="发表于 2020-12-09 00:00:00">2020-12-09</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E5%BC%80%E5%8F%91%E6%8A%80%E6%9C%AF/">开发技术</a></span></div><div class="content">简介为了避免单点故障，现在的应用通常至少会部署在两台服务器上。对于一些负载比较高的服务，会部署更多的服务器。这样，在同一环境下的服务提供者数量会大于1。对于服务消费者来说，同一环境下出现了多个服务提供者。这时会出现一个问题，服务消费者需要决定选择哪个服务提供者进行调用。另外服务调用失败时的处理措施也是需要考虑的，是重试呢，还是抛出异常，亦或是只打印异常等。为了处理这些问题，Dubbo 定义了集群接口 Cluster 以及 Cluster Invoker。集群 Cluster 用途是将多个服务提供者合并为一个 Cluster Invoker，并将这个 Invoker 暴露给服务消费者。这样一来，服务消费者只需通过这个 Invoker 进行远程调用即可，至于具体调用哪个服务提供者，以及调用失败后如何处理等问题，现在都交给集群模块去处理。集群模块是服务提供者和服务消费者的中间层，为服务消费者屏蔽了服务提供者的情况，这样服务消费者就可以专心处理远程调用相关事宜。比如发请求，接受服务提供者返回的数据等。这就是集群的作用。
Dubbo 提供了多种集群实现，包含但不限于 Failover Clust ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/12/06/Dubbo%E7%9A%84%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8%E8%BF%87%E7%A8%8B/" title="Dubbo的接口调用过程">     <img class="post_bg" src="https://raw.githubusercontent.com/mvilplss/note/master/image/.Dubbo的接口调用过程_images/invokercustomer.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Dubbo的接口调用过程"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/12/06/Dubbo%E7%9A%84%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8%E8%BF%87%E7%A8%8B/" title="Dubbo的接口调用过程">Dubbo的接口调用过程</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-12-05T16:00:00.000Z" title="发表于 2020-12-06 00:00:00">2020-12-06</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E5%BC%80%E5%8F%91%E6%8A%80%E6%9C%AF/">开发技术</a></span></div><div class="content">简介本篇文件我们研究dubbo服务的调用过程，即从消费端发起接口调用到服务端接收请求，然后返回到消费端结果的整个一个调用过程。
消费端发起调用invoker的调用直接看在服务引用过程中被代理后的接口源码：
1234567891011121314public class proxy0 implements ClassGenerator.DC, Destroyable, EchoService, DemoService &#123;    public static Method[] methods;    private InvocationHandler handler;    // 调用sayHello，最终会委托给InvokerInvocationHandler    public String sayHello(String string) &#123;        Object[] arrobject = new Object[]&#123;string&#125;;        Object object = this.handler.invoke(this, metho ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/12/03/Dubbo%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%BC%95%E7%94%A8/" title="Dubbo服务的引用">     <img class="post_bg" src="https://raw.githubusercontent.com/mvilplss/note/master/image/dubbo1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Dubbo服务的引用"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/12/03/Dubbo%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%BC%95%E7%94%A8/" title="Dubbo服务的引用">Dubbo服务的引用</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-12-02T16:00:00.000Z" title="发表于 2020-12-03 00:00:00">2020-12-03</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E5%BC%80%E5%8F%91%E6%8A%80%E6%9C%AF/">开发技术</a></span></div><div class="content">简介我们可以通过两种方式引用远程服务。第一种是使用服务直连的方式引用服务，第二种方式是基于注册中心进行引用。服务直连的方式仅适合在调试或测试服务的场景下使用，不适合在线上环境使用。因此，本文我将重点分析通过注册中心引用服务的过程。从注册中心中获取服务配置只是服务引用过程中的一环，除此之外，服务消费者还需要经历 Invoker 创建、代理类创建等步骤。
服务的引用引用示例为了研究方便研究源码引用过程，我们通过api引用方式进行研究，示例代码如下：
12345678910public static void main(String[] args) &#123;    ReferenceConfig&lt;DemoService&gt; reference = new ReferenceConfig&lt;&gt;();    reference.setApplication(new ApplicationConfig(&quot;dubbo-demo-api-consumer&quot;));    reference.setRegistry(new RegistryConfig(&quo ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/11/29/Dubbo%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%AF%BC%E5%87%BA/" title="Dubbo的服务导出">     <img class="post_bg" src="https://raw.githubusercontent.com/mvilplss/note/master/image/dubbo1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Dubbo的服务导出"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/11/29/Dubbo%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%AF%BC%E5%87%BA/" title="Dubbo的服务导出">Dubbo的服务导出</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-11-28T16:00:00.000Z" title="发表于 2020-11-29 00:00:00">2020-11-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E5%BC%80%E5%8F%91%E6%8A%80%E6%9C%AF/">开发技术</a></span></div><div class="content">简介Dubbo 服务导出过程始于 Spring 容器发布刷新事件，Dubbo 在接收到事件后，会立即执行服务导出逻辑。也可以通过api直接执行export进行导出。整个逻辑大致可分为三个部分，第一部分是前置工作，主要用于检查参数，组装 URL。第二部分是导出服务，包含导出服务到本地 (JVM)，和导出服务到远程两个过程。第三部分是向注册中心注册服务，用于服务发现。为了方便研究源码，我们通过api直接导出服务。
源码分析示例代码api方式导出源码示例：
12345678910public static void main(String[] args) throws Exception &#123;    ServiceConfig&lt;DemoServiceImpl&gt; service = new ServiceConfig&lt;&gt;();    service.setProtocol(new ProtocolConfig(&quot;dubbo&quot;));    service.setInterface(DemoService.class);    service.s ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/11/22/Dubbo%E7%9A%84SPI%E5%88%86%E6%9E%90/" title="Dubbo的SPI分析">     <img class="post_bg" src="https://gitee.com/mvilplss/note/raw/master/image/dubbo1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Dubbo的SPI分析"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/11/22/Dubbo%E7%9A%84SPI%E5%88%86%E6%9E%90/" title="Dubbo的SPI分析">Dubbo的SPI分析</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-11-21T16:00:00.000Z" title="发表于 2020-11-22 00:00:00">2020-11-22</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E5%BC%80%E5%8F%91%E6%8A%80%E6%9C%AF/">开发技术</a></span></div><div class="content">简介SPI 全称为 Service Provider Interface，是一种服务发现机制。SPI 的本质是将接口实现类的全限定名配置在文件中，并由服务加载器读取配置文件，加载实现类。这样可以在运行时，动态为接口替换实现类。正因此特性，我们可以很容易的通过 SPI 机制为我们的程序提供拓展功能。SPI 机制在第三方框架中也有所应用，比如 Dubbo 就是通过 SPI 机制加载所有的组件。不过，Dubbo 并未使用 Java 原生的 SPI 机制，而是对其进行了增强，使其能够更好的满足需求。
普通SPIJava SPI 示例定义接口和实现类123public interface AnimalHoo &#123;    void hoo();&#125;
123456789101112public class CatHoo implements AnimalHoo&#123;    @Override    public void hoo() &#123;        System.out.println(&quot;喵喵...&quot;);    &#125;&#125;publi ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/11/20/Dubbo%E7%9A%84%E7%AE%80%E4%BB%8B/" title="Dubbo的简介">     <img class="post_bg" src="https://raw.githubusercontent.com/mvilplss/note/master/image/dubbo1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Dubbo的简介"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/11/20/Dubbo%E7%9A%84%E7%AE%80%E4%BB%8B/" title="Dubbo的简介">Dubbo的简介</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-11-19T16:00:00.000Z" title="发表于 2020-11-20 00:00:00">2020-11-20</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E5%BC%80%E5%8F%91%E6%8A%80%E6%9C%AF/">开发技术</a></span></div><div class="content">Dubbo是什么？Apache Dubbo是一款高性能、轻量级的开源服务框架。
开发团队Dubbo共有六个开发人员参与开发和测试，每一个开发人员都是很有经验，团队合作很默契，开发过程也很有节奏，有完善质量保障流程。团队组成：梁飞 （开发人员/产品管理）刘昊旻 （开发人员/过程管理）刘超 （开发人员/用户支持）李鼎 （开发人员/用户支持）陈雷 （开发人员/质量保障）闾刚 （开发人员/开源运维）从左至右：刘超，梁飞，闾刚，陈雷，刘昊旻，李鼎
Dubbo有哪些核心能力面向接口代理的高性能RPC调用提供高性能的基于代理的远程调用能力，服务以接口为粒度，为开发者屏蔽远程调用底层细节。
集群容错和负载均衡内置多种负载均衡策略，智能感知下游节点健康状况，显著减少调用延迟，提高系统吞吐量。
服务自动注册和发现支持多种注册中心服务，服务实例上下线实时感知。
高度可扩展能力遵循微内核+插件的设计原则，所有核心能力如Protocol、Transport、Serialization被设计为扩展点，平等对待内置实现和第三方实现。
运行期流量调度内置条件、脚本等路由策略，通过配置不同的路由规则，轻松实现灰度发布， ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/01/02/Mac%E6%96%87%E4%BB%B6%E5%A4%B9%E5%90%8D%E7%A7%B0%E6%9C%AC%E5%9C%B0%E5%8C%96/" title="Mac文件夹名称本地化">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Mac文件夹名称本地化"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/01/02/Mac%E6%96%87%E4%BB%B6%E5%A4%B9%E5%90%8D%E7%A7%B0%E6%9C%AC%E5%9C%B0%E5%8C%96/" title="Mac文件夹名称本地化">Mac文件夹名称本地化</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-01-01T16:00:00.000Z" title="发表于 2020-01-02 00:00:00">2020-01-02</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E5%BC%80%E5%8F%91%E6%97%A5%E5%B8%B8/">开发日常</a></span></div><div class="content">Mac文件夹名称本地化在使用mac的时候，自带的一些文件夹如：桌面，下载，文稿等在Finder中都是中文的，但是在命令行中看到的是英文的。作为一名开发者，创建的某些文件夹需要程序访问，为了防止中文问题，就用了英文，但是在Finder看着有点别扭，就想把这些文件也设置为本地化，下面将介绍方法。
首先关闭SPI权限重启mac电脑，长按command+r进入系统引导界面，在左上角菜单中找到终端，输入以下命令关闭SPI保护：
1csrutil disable
如果要恢复SPI保护则执行以下命令：
1csrutil enable
文件夹本地化配置首先创建一个英文的文件夹，已经创建的可以忽略。
1mkdir Works
开始对文件夹Works配置本地化：
12345678910sudo mount -uw &#x2F;cd &#x2F;System&#x2F;Library&#x2F;CoreServices&#x2F;SystemFolderLocalizations&#x2F;zh_CN.lprojsudo &#x2F;usr&#x2F;libexec&#x2F;PlistBuddy -c & ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/01/02/raw.githubusercontent.com%20port%20443/" title="raw.githubusercontent.com port">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="raw.githubusercontent.com port"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/01/02/raw.githubusercontent.com%20port%20443/" title="raw.githubusercontent.com port">raw.githubusercontent.com port</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-01-01T16:00:00.000Z" title="发表于 2020-01-02 00:00:00">2020-01-02</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E5%BC%80%E5%8F%91%E6%97%A5%E5%B8%B8/">开发日常</a></span></div><div class="content">Failed to connect to raw.githubusercontent.com:443我们在执行一些通过raw.githubusercontent.com进行安装的工具时候，总是会出现如下问题：
1curl: (7) Failed to connect to raw.githubusercontent.com port 443: Connection refused
这里将提供两种解决方案，方案如下：
如果你在使用科学上网如果你是科学上网，则执行下面命令：
12# 7890 和 789 需要换成你自己的端口export https_proxy&#x3D;http:&#x2F;&#x2F;127.0.0.1:7890 http_proxy&#x3D;http:&#x2F;&#x2F;127.0.0.1:7890 all_proxy&#x3D;socks5:&#x2F;&#x2F;127.0.0.1:789
再次执行之前连接 http://raw.githubusercontent.com:443 被拒绝的命令应该就成功了。
其他方式如果没有科学上网，则可以通过修改hosts ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="/null" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">三行</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">22</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">7</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/01/03/hello-world/" title="Hello World"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"/></a><div class="content"><a class="title" href="/2021/01/03/hello-world/" title="Hello World">Hello World</a><time datetime="2021-01-03T09:59:04.558Z" title="发表于 2021-01-03 17:59:04">2021-01-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/12/10/Dubbo%E7%9A%84%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/" title="Dubbo的负载均衡"><img src="https://raw.githubusercontent.com/mvilplss/note/master/image/Dubbo的负载均衡_images/05058665.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Dubbo的负载均衡"/></a><div class="content"><a class="title" href="/2020/12/10/Dubbo%E7%9A%84%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/" title="Dubbo的负载均衡">Dubbo的负载均衡</a><time datetime="2020-12-09T16:00:00.000Z" title="发表于 2020-12-10 00:00:00">2020-12-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/12/09/Dubbo%E7%9A%84%E9%9B%86%E7%BE%A4%E5%AE%B9%E9%94%99/" title="Dubbo的集群容错"><img src="https://raw.githubusercontent.com/mvilplss/note/master/image/Dubbo的集群容错_images/f0369658.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Dubbo的集群容错"/></a><div class="content"><a class="title" href="/2020/12/09/Dubbo%E7%9A%84%E9%9B%86%E7%BE%A4%E5%AE%B9%E9%94%99/" title="Dubbo的集群容错">Dubbo的集群容错</a><time datetime="2020-12-08T16:00:00.000Z" title="发表于 2020-12-09 00:00:00">2020-12-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/12/06/Dubbo%E7%9A%84%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8%E8%BF%87%E7%A8%8B/" title="Dubbo的接口调用过程"><img src="https://raw.githubusercontent.com/mvilplss/note/master/image/.Dubbo的接口调用过程_images/invokercustomer.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Dubbo的接口调用过程"/></a><div class="content"><a class="title" href="/2020/12/06/Dubbo%E7%9A%84%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8%E8%BF%87%E7%A8%8B/" title="Dubbo的接口调用过程">Dubbo的接口调用过程</a><time datetime="2020-12-05T16:00:00.000Z" title="发表于 2020-12-06 00:00:00">2020-12-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/12/03/Dubbo%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%BC%95%E7%94%A8/" title="Dubbo服务的引用"><img src="https://raw.githubusercontent.com/mvilplss/note/master/image/dubbo1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Dubbo服务的引用"/></a><div class="content"><a class="title" href="/2020/12/03/Dubbo%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%BC%95%E7%94%A8/" title="Dubbo服务的引用">Dubbo服务的引用</a><time datetime="2020-12-02T16:00:00.000Z" title="发表于 2020-12-03 00:00:00">2020-12-03</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline"><i class="fas fa-folder-open"></i><span>分类</span></div><ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%BC%80%E5%8F%91%E6%8A%80%E6%9C%AF/"><span class="card-category-list-name">开发技术</span><span class="card-category-list-count">17</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%BC%80%E5%8F%91%E6%97%A5%E5%B8%B8/"><span class="card-category-list-name">开发日常</span><span class="card-category-list-count">4</span></a></li>
            
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Mybatis/" style="font-size: 1.1em; color: #999">Mybatis</a> <a href="/tags/Spring/" style="font-size: 1.1em; color: #999">Spring</a> <a href="/tags/dubbo/" style="font-size: 1.37em; color: #99a4b2">dubbo</a> <a href="/tags/java/" style="font-size: 1.5em; color: #99a9bf">java</a> <a href="/tags/%E4%BA%8B%E5%8A%A1/" style="font-size: 1.1em; color: #999">事务</a> <a href="/tags/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/" style="font-size: 1.1em; color: #999">开发工具</a> <a href="/tags/%E7%94%B5%E8%84%91%E6%8A%80%E5%B7%A7/" style="font-size: 1.23em; color: #999ea6">电脑技巧</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/01/"><span class="card-archive-list-date">一月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/12/"><span class="card-archive-list-date">十二月 2020</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/11/"><span class="card-archive-list-date">十一月 2020</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/01/"><span class="card-archive-list-date">一月 2020</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2019/09/"><span class="card-archive-list-date">九月 2019</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2019/08/"><span class="card-archive-list-date">八月 2019</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2019/07/"><span class="card-archive-list-date">七月 2019</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2019/02/"><span class="card-archive-list-date">二月 2019</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item more is-center"><a class="card-archive-list-link-more" href="/archives/">
              <span>查看更多</span><i class="fas fa-angle-right"  ></i></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">22</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2021-01-03T11:21:21.008Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By 三行</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></div></body></html>